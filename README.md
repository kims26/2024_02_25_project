# 2024_02_25_project
2024_02_25_MiniProject


- **회원 가입 API: POST /users**
    - API 요청시 입력 받은 name, email, personal(주민번호), prefer(내가 좋아하는 사이트), pwd(비밀번호), phone(핸드폰번호)를 서버에 함께 보내주어야합니다.
        
        ```json
        {
            "name" : "아라111",
            "email" : "ala@gamil.com",
            "personal" : "220101-1111111",
            "prefer" : "https://naver.com",
            "pwd" : "1234",
            "phone" : "01012345678"
        }
        ```
        
    - 입력 받은 핸드폰 번호로 `Tokens` 문서를 검색해 해당 번호의 isAuth가 true인지 확인합니다.
        - 핸드폰 번호가 없거나, isAuth가 false라면 클라이언트에 `422` 상태코드와 함께 에러 문구를 반환합니다.
            
           (사진)
            
        - true 라면 아래의 로직을 수행합니다.
            - **내가 좋아하는 사이트**로 입력 받은 사이트를 cheerio를 활용하여 scraping 한 후, 관련 오픈그래프(OG) 메타 태그 정보를 다른 입력 받은 정보들과 함께 `User` DB에 저장해주세요.
            - 메타 태그 정보는 og 객체에 (title, description, image)가 들어있도록 만들어주세요.
            - personal(주민번호)는 뒷자리를 `*`로 바꾼후 저장해주세요. (220101-*******)
            - DB에 저장한 후, 회원 가입 환영 이메일을 실제로 전송해주세요.
            - 생성된 user의 _id를 클라이언트에 반환합니다.
                - DB
                    
                (이미지)
                    
                - 응답
                    
                  (이미지)
                    
- **회원 목록 조회 API: GET /users**
    - API 요청 시 DB에 저장된 User 데이터의 목록을 응답으로 보내주세요.
    - 보내주는 데이터에는  name, email, personal(주민번호), prefer(내가 좋아하는 사이트), phone(핸드폰번호), og 객체(오픈그래프 정보 title, description, image)가 포함되어야합니다.
        
      (이미지)
- **토큰 인증 요청 API: POST /tokens/phone**
    - API 요청시 입력 받은 핸드폰 번호를 서버로 보내주세요.
    - 토큰을 생성하고, 생성한 토큰을 문자로 전송해주세요.
    - 이때, 입력받은 핸드폰 번호로 문자를 보냅니다.
    - 핸드폰 번호와 토큰, 그리고 **isAuth**는 **false** 값으로 DB에 저장합니다.
        
       (이미지)
        
    - 해당 핸드폰 번호가 이미 `Tokens` 문서에 저장되어 있다면 최신 토큰으로 덮어씁니다.
    - 클라이언트에 응답으로 “핸드폰으로 인증 문자가 전송되었습니다!”를 보내줍니다.
- **인증 완료 API: PATCH /tokens/phone**


# Self-CheckList ✅

> 아래 체크 리스트 스스로 점검
> 
- 스웨거
    - [ ]  스웨거에서 API를 바로 테스트 할 수 있도록 example이 작성되어 있다.
    - [ ]  스웨거에서 회원 가입 API를 테스트 했을 때 오류 없이 작동된다.
    - [ ]  스웨거에서 회원 목록 조회 API를 테스트 했을 때 오류 없이 작동된다.
    - [ ]  스웨거에서 토큰 인증 API를 테스트 했을 때 오류 없이 작동된다.
    - [ ]  스웨거에서 인증 완료 API를 테스트 했을 때 오류 없이 작동된다.
- html 연동
    - [ ]  회원 목록 페이지에는 DB에 저장된 회원이 보인다.
    - [ ]  핸드폰 인증 버튼을 누르면 토큰이 문자로 전송된다.
    - [ ]  회원 가입 버튼을 누르면 DB에 회원 데이터가 추가된다.
- [ ]  env 파일 변수명이 1-1에 나와있는 예시와 같다.